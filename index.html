<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PSYCHO_1H</title>
    <link href="reset.css" rel="stylesheet">
    <link href="styles.css" rel="stylesheet">
    <link rel="icon" href="favico/favicon.ico" type="image/x-icon">
</head>

<body>
    <div class="video-background">
        <video autoplay muted loop id="bg-video">
            <source src="PSYCHO.mp4" type="video/mp4">
        </video>
    </div>

    <div class="container text-center">
        <div class="analyzer-container">
            <div class="avatar">
                <img src="img/Avatar.jpg" alt="Avatar" class="rounded-circle">
            </div>
            <!-- This div will hold the analyzer -->
            <div id="analyzer"></div>
        </div>

        <h1 class="mt-3">THEY CALL ME<br>PSYCHO</h1>
        <p class="bio">Ladies and jungle fans,<br>I'm Yazan, a gamer and streamer in the 1House family.<br>
            Catch me live on Twitch or join our Discord server!</p>

        <div class="social-icons">
            <a href="https://www.instagram.com/psy_f0/" target="_blank" class="text-decoration-none ml-2">
                <img src="img/Insta.png" alt="Insta" class="Insta">
            </a>
            <a href="https://twitch.tv/PSYCHO_1H" target="_blank" class="text-decoration-none ml-2">
                <img src="img/twitch.png" alt="twitch" class="twitch">
            </a>
            <a href="https://discord.gg/TAHqDcGdUp" target="_blank" class="text-decoration-none ml-2">
                <img src="img/discord.png" alt="Discord" class="discord">
            </a>
            <a href="https://steamcommunity.com/profiles/76561199040569589/" target="_blank"
                class="text-decoration-none">
                <img src="img/steam.png" alt="steam" class="steam">
            </a>
            <button id="muteButton">
                <img src="img/mute.png" alt="mute" class="mute" id="mute">
                <img src="img/unmute.png" alt="unmute" class="unmute" id="unmute" style="display:none;">
            </button>
        </div>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const video = document.getElementById('bg-video');
            const muteButton = document.getElementById('muteButton');
            const muteImg = document.getElementById('mute');
            const unmuteImg = document.getElementById('unmute');

            muteButton.addEventListener('click', () => {
                if (video.muted) {
                    video.muted = false;
                    unmuteImg.style.display = "block";
                    muteImg.style.display = "none";
                } else {
                    video.muted = true;
                    muteImg.style.display = "block";
                    unmuteImg.style.display = "none";
                }
            });

            video.volume = 0.07;
        });
    </script>

    <script src="https://unpkg.com/audiomotion-analyzer/dist"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const analyzerContainer = document.getElementById('analyzer');
            const avatar = document.querySelector('.avatar');
            const audioMotion = new AudioMotionAnalyzer(
                analyzerContainer,
                {
                    mode: 3,
                    gradient: 'rainbow',
                    alphaBars: true,
                    overlay: true,
                    bgAlpha: 0,
                    radial: true,

                    linearAmplitude: true,
                    linearBoost: 9,
                    showPeaks: true,
                    onCanvasDraw: instance => {
                        instance.radius = .4 + instance.getEnergy();
                        avatar.style.transform = `scale(${1 + instance.getEnergy() * 0.25})`;
                    },
                    source: document.getElementById('bg-video')
                }
            );
        });
    </script>
</body>

</html>